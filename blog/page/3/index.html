
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Mike Rooney</title>
  <meta name="author" content="Mike Rooney">

  
  <meta name="description" content="Over at the Genius Engineering blog we just put up a post regarding our anticipation of PHP 5.3 and what we are looking forward to in it. We&#8217;d &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://mrooney.github.com/blog/page/3">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Mike Rooney" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<style type="text/css">footer { z-index: -100 !important; }</style>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-33098447-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Mike Rooney</a></h1>
  
    <h2>programming and philosophy</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:mrooney.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/04/08/genius-com-is-eagerly-anticipating-php-5-3/">Genius.com Is Eagerly Anticipating PHP 5.3</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-04-08T00:00:00-04:00" pubdate data-updated="true">Apr 8<span>th</span>, 2009</time>
        
         | <a href="/blog/2009/04/08/genius-com-is-eagerly-anticipating-php-5-3/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
Over at the Genius Engineering blog we just put up<a href="http://eng.genius.com/blog/2009/04/08/eagerly-anticipating-php-53/"> a post regarding our anticipation of PHP 5.3</a> and what we are looking forward to in it. We&#8217;d love to get some feedback and thoughts on it, and hear what other people are interested in regarding PHP 5.3 that we may have missed. If you&#8217;ve been following PHP 5.3, or haven&#8217;t and want to catch up, <a href="http://eng.genius.com/blog/2009/04/08/eagerly-anticipating-php-53/">check it out</a>!</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/04/06/wxbanker-0-5-rc-available-for-testing-and-translating/">wxBanker 0.5 RC Available for Testing and Translating!</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-04-06T00:00:00-04:00" pubdate data-updated="true">Apr 6<span>th</span>, 2009</time>
        
         | <a href="/blog/2009/04/06/wxbanker-0-5-rc-available-for-testing-and-translating/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
Recently I&#8217;ve been hard at work on the next version of wxBanker, a lightweight personal finance application, and would like to get out the 0.5 release candidate for testing and <a href="https://translations.launchpad.net/wxbanker">translations</a>. To check it out, add my <a href="https://launchpad.net/%7Emrooney/+archive/wxbanker-testing">wxbanker-testing PPA</a>. It also runs on Windows and OSX (albeit less tested), so feel free to grab the <a href="https://launchpad.net/wxbanker/0.5/0.5">source tarball</a> (it&#8217;s python, so no compilation necessary) and then check out the included README. The only hard dependency is wxpython, although installing numpy and the simplejson library for python allow for graphing and csv importing respectively.<br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://3.bp.blogspot.com/_HU7L5oFDSeA/Sdr39pxUU0I/AAAAAAAAAJc/qB3skDFi5rc/s1600-h/Screenshot-2.png"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 320px; height: 108px;" src="http://3.bp.blogspot.com/_HU7L5oFDSeA/Sdr39pxUU0I/AAAAAAAAAJc/qB3skDFi5rc/s320/Screenshot-2.png" alt="" id="BLOGGER_PHOTO_ID_5321838548248449858" border="0" /></a><br />wxBanker 0.5 has been a long time in the making, as it represents a large refactor of the underlying code to make everything much faster, more stable, and easier to extend and implement new functionality. This is especially noticeable in the start up time.<br /><br />There is also a new transaction grid which allows for sorting, a CSV import option in Tools (so you can import transactions from your banks initially)<br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://1.bp.blogspot.com/_HU7L5oFDSeA/Sdr0YzHl5CI/AAAAAAAAAI8/itA1mNudySc/s1600-h/csvimport.png"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 320px; height: 315px;" src="http://1.bp.blogspot.com/_HU7L5oFDSeA/Sdr0YzHl5CI/AAAAAAAAAI8/itA1mNudySc/s320/csvimport.png" alt="" id="BLOGGER_PHOTO_ID_5321834616567751714" border="0" /></a><br />&#8230;and enhanced right-click actions for transactions which now work on multiple selected transactions:<br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://3.bp.blogspot.com/_HU7L5oFDSeA/Sdr1YGSCBBI/AAAAAAAAAJE/1-1YyM9V6I4/s1600-h/rightclick.png"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 320px; height: 130px;" src="http://3.bp.blogspot.com/_HU7L5oFDSeA/Sdr1YGSCBBI/AAAAAAAAAJE/1-1YyM9V6I4/s320/rightclick.png" alt="" id="BLOGGER_PHOTO_ID_5321835704043570194" border="0" /></a><br />See the included changelog for a full list of new things. Launchpad is also fairly well integrated into wxBanker, so to file a bug or do almost anything else, just use the help menu. The Spanish and French translations are complete but I could really use help everywhere else: <a href="https://translations.launchpad.net/wxbanker">https://translations.launchpad.net/wxbanker</a> !<br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://1.bp.blogspot.com/_HU7L5oFDSeA/Sdr2AI-8l-I/AAAAAAAAAJU/_-Il8uV5otQ/s1600-h/helpmenu.png"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 218px; height: 161px;" src="http://1.bp.blogspot.com/_HU7L5oFDSeA/Sdr2AI-8l-I/AAAAAAAAAJU/_-Il8uV5otQ/s320/helpmenu.png" alt="" id="BLOGGER_PHOTO_ID_5321836391963596770" border="0" /></a><br />Check out <a href="https://wiki.ubuntu.com/wxBanker">https://wiki.ubuntu.com/wxBanker</a> for more screenshots, or the wxBanker homepage at<a href="https://launchpad.net/wxbanker"> https://launchpad.net/wxbanker</a> for more information including the users team/mailing list, and the translations team. If you are interested in the less exciting stable version, 0.4.1.0 can be found in the Ubuntu repos as of Jaunty, available in about 18 languages.<br /><br />Enjoy, and let me know of any issues or comments you have, and thanks in advance for translations :)</div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Michael</div>
<div class='content'>
I figured out the problem with the import errors. In the file wxbanker.py, before the import of wx, wx.aui, just add the line: import wxversion; wxversion.ensureMinimal(&quot;2.8&quot;)<br /><br />This way even if wxPython 2.6 is the default on your system, as long as you have 2.8 or better it will use that install for wxBanker.<br /><br />A fix for this has been applied and it should work fine out of the box in the upcoming 0.6 release.</div>
</div>
<div class='comment'>
<div class='author'>Anonymous</div>
<div class='content'>
Paul &amp; Cilla, hello !<br /><br />I had the same pb on my Ubuntu Jaunty after installing PyKaraoke because it installed wxpyton 2.6 and I have already 2.8.9.1 so when you have many versions in python, it take the older so it&#39;s why after unistalling wxpython 2.6 (and so PyKaraoke) it&#39;s works fine. So try to find in Synaptic if you have many versions of Wxpython and try out to unistall all of them except 2.8&gt; , but only if not important software you use are depending to them. And normally it have to works instantanly.<br /><br />But i&#39;m not a python expert and if there is a solution or a workaround to have many versions of wxpython (and python himself too) working together without conflict, i&#39;m interrested.<br /><br />So good luck and bye !!<br /><br />PS : to developpers, I&#39;m  forced to say you that multiplatform and easy developpement is not only through WxWidget+Python : Try out QtCreator !! Ok, it&#39;s C++, but it&#39;s so easy, flexible and powerfull, and portable too ! And the software produced is quite more speedy. And you have also an intergrated UI designer which is marvellous. I said that because I discovered it 2 month ago and I have already developed so many project with it so quickly that I can&#39;t stop to talk about it to other developpers because to be really franch, I don&#39;t love python  at all :( &#8230;.  It think it is buggy, slow and not very flexible. And for this reason, i&#39;ve started to transcode many Python programs ins C++ to speed-up them (DJL, Alacarte, Elisa, Gnome-packagekit &#8230;&#8230;). So on these ideas I leave you at your tasks. But very good program ! Thanx.</div>
</div>
<div class='comment'>
<div class='author'>Michael</div>
<div class='content'>
Hi Paul and Cilla, thanks for trying it out! That is usually the error that you get if your version of wxPython is too old; wxBanker requires at least 2.8.8.0. Do you know what version you have? You can find out by running python from a command line and then typing &#8220;import wx; wx.version()&#8221;. Also, what OS is this? I would try getting the latest version from www.wxpython.org .</div>
</div>
<div class='comment'>
<div class='author'>Paul &amp; Cilla&#39;s Place</div>
<div class='content'>
I ran your apt-get install script and tried to run banker. I got this error:<BR/>./wxbanker.py<BR/>Traceback (most recent call last):<BR/>  File &quot;./wxbanker.py&quot;, line 24, in (it says module, but that isn&#39;t allowed in your blog) &lt;    module   &gt;<BR/>    import wx, wx.aui<BR/>ImportError: No module named aui</div>
</div>
<div class='comment'>
<div class='author'>crashsystems</div>
<div class='content'>
One feature I think is rather important is export to CSV. I was bored this evening, so to amuse myself I whipped up a little module to do just that. I pushed <A HREF="https://code.edge.launchpad.net/~crashsystems/wxbanker/csvexport" REL="nofollow">my branch</A> to launchpad, so feel free to use it if you think it will be useful. I don&#8217;t have any experience with wxWidgets yet (I&#8217;ve mostly worked with GTK), so I did not write any GUI stuff for this feature. If you don&#8217;t beat me to it, I may get around to doing that one of these days.<BR/><BR/>Keep up the great work!</div>
</div>
<div class='comment'>
<div class='author'>Cláudio Novais</div>
<div class='content'>
Hi Michael,<BR/><BR/>I&#8217;m translating to Portuguese and it&#8217;s almost completed!<BR/><BR/>You are doing a great work, keep going!</div>
</div>
<div class='comment'>
<div class='author'>Michael</div>
<div class='content'>
@crashsystems: I think the scope of the application is appropriate for personal and small business finance, at least for the bookkeeping aspects. If there is anything that you find it is missing, I will be happy to implement it as I would like to support small business use as well. Nice print reporting of accounts should be coming in about a month which I imagine is useful. Try it and let me know what it needs!</div>
</div>
<div class='comment'>
<div class='author'>crashsystems</div>
<div class='content'>
This program looks very interesting. Do you think it would be suitable for a small business that has no need for payroll related features?</div>
</div>
<div class='comment'>
<div class='author'>Michael</div>
<div class='content'>
@1: In the first screenshot I am using Dust, now included in Ubuntu as of Jaunty. The other two are Shiki-Colors (Wise).<BR/><BR/>@2: Phil, I am familiar with the term wanker, though didn&#8217;t know banker was synonymous. I don&#8217;t really see it is a problem but I will consider any names someone throws out; do you have a suggestion?<BR/><BR/>@3: Thanks for the feedback, that&#8217;s what I am going for!</div>
</div>
<div class='comment'>
<div class='author'>Anonymous</div>
<div class='content'>
Dutch translation finished :-)<BR/><BR/>Great program btw, much more clear than gnucash or similar<BR/><BR/>keep up the good work!</div>
</div>
<div class='comment'>
<div class='author'>Phil</div>
<div class='content'>
Is the name significant and fixed? Banker is sometimes used in the UK (esp SE England) as a euphamism for wanker (it derives from the old London tradition of rhyming slang) Adding wx in front just makes it worse!</div>
</div>
<div class='comment'>
<div class='author'>Anonymous</div>
<div class='content'>
looks great. What gnome theme are you using, btw?</div>
</div>
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/02/25/using-the-finally-block-in-python-to-write-robust-applications/">Using the &#8220;Finally&#8221; Block in Python to Write Robust Applications</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-02-25T00:00:00-05:00" pubdate data-updated="true">Feb 25<span>th</span>, 2009</time>
        
         | <a href="/blog/2009/02/25/using-the-finally-block-in-python-to-write-robust-applications/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
This is the first post in my series of three on using XMLRPC to run tests remotely in python (such as javascript and selenium tests in web browsers) and get the results. If that doesn&#8217;t concern you, this post is probably still relevant; I&#8217;d just like to cover the groundwork of making code that is stable and repeatable even in the face of [un]expected problems. Luckily for us, python has a wonderful &#8220;finally&#8221; block which can be used to properly clean up or &#8220;finish&#8221; regardless of Bad Things. Let&#8217;s look at an example of a common problem this can solve:<br /><br /><span style="font-family:courier new;"></span><blockquote><span style="font-family:courier new;">getLock()</span><br /><span style="font-family:courier new;">doStuff()</span><br /><span style="font-family:courier new;">releaseLock()</span></blockquote><br /><br />We need exclusive access to a resource, so we get a lock. We do some stuff, and then release the lock. The problem is that if doStuff raises an exception, the lock never gets released, and your application can be in a broken state. You want to release the lock no matter what. So what you should do is:<br /><br /><span style="font-family:courier new;"></span><blockquote><span style="font-family:courier new;">getLock()</span><br /><span style="font-family:courier new;">try:</span><br /><span style="font-family:courier new;">    </span><span style="font-family:courier new;"></span><span style="font-family:courier new;">&nbsp;&nbsp;doStuff()</span><br /><span style="font-family:courier new;">finally:</span><br /><span style="font-family:courier new;">&nbsp;&nbsp;releaseLock()</span></blockquote><br /><br />Now save a SIGKILL, the lock is going to be released. This is pretty basic, but it is impressive how robust the finally block is. You can &#8220;return&#8221; in the try block or even &#8220;sys.exit()&#8221; and the code in the finally block will still be executed.<br /><br />I recently used this with XMLRPC to safely tell the remote machine to clean up if the local script ran into problems or even got a SIGTERM from a keyboard interrupt. Here&#8217;s a more elaborate example:<br /><br /><blockquote style="font-family: courier new;">proxy = xmlrpclib.ServerProxy(remoteIP)<br />try:<br />&nbsp;&nbsp;result = proxy.RunTests()<br />&nbsp;&nbsp;if result is None:<br />&nbsp;&nbsp;&nbsp;&nbsp;sys.exit(1)<br />&nbsp;&nbsp;else:<br />&nbsp;&nbsp;&nbsp;&nbsp;return result<br />except:<br />&nbsp;&nbsp;sys.exit(2)<br />finally:<br />&nbsp;&nbsp;proxy.CloseFirefox()</blockquote><br /><br />The remote machine (&#8220;proxy&#8221;) is running some tests in firefox. While it does this it sets a lock so no one else can run the same tests. If something goes wrong, this lock needs to be reset and firefox needs to be closed so they can run again later. If it gets a result, return it. If it doesn&#8217;t or something goes wrong, we still clean up but now we can exit with an error code. One of the neatest things about this for me was Ctrl+C&#8217;ing the script on my computer and watching the remote machine cleanly quit firefox and release the lock for another process to use.<br /><br />This is great whenever you need to put something in a temporary state, or change the state after an operation no matter what happens. Think of locks, temporary files, memory usage, or open connections where it is important to close them. Conversely however, make sure you DON&#8217;T use an approach like when it isn&#8217;t appropriate.<br /><blockquote><br /><span style="font-family: courier new;">for client in clientsToPing[:]:</span><br /><span style="font-family: courier new;">&nbsp;&nbsp;try:</span><br /><span style="font-family: courier new;">&nbsp;&nbsp;&nbsp;&nbsp;ping(client)</span><br /><span style="font-family: courier new;">&nbsp;&nbsp;finally:</span><br /><span style="font-family: courier new;">&nbsp;&nbsp;&nbsp;&nbsp;clientsToPing.remove(client</span>)</blockquote><br /><br />This is potentially incorrect behavior, because if you failed to ping your client you may want to keep it on the list to try again next time. However, you also may only want to attempt this once and then the above approach would be correct!<br /><br />In my next post I am going to turn more specifically to remote browser testing and explain how exactly to set up both ends of the connection. After that I&#8217;ll finish by making a post on using twisted + SSL to retrieve posted results over HTTPS.</div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>imnobukowski</div>
<div class='content'>
Unfortunately, there are quite a few exceptions that can happen *between* bytecodes. The most commonly encountered is KeyboardInterrupt but there are others. That means this code:<BR/><BR/>f = open(&#8216;blah.txt&#8217;, &#8216;w&#8217;)<BR/>try:<BR/>  &#8230;<BR/>finally:<BR/>  f.close()<BR/><BR/>doesn&#8217;t always close the file. You could have an exception between open and the start of your try&#8230;finally block! Yay python.</div>
</div>
<div class='comment'>
<div class='author'>Marius Gedminas</div>
<div class='content'>
If you like try&#8230;finally, you&#8217;re going to love <A HREF="http://www.python.org/dev/peps/pep-0343/" REL="nofollow">the &#8216;with&#8217; statement</A>.<BR/><BR/>I do.</div>
</div>
<div class='comment'>
<div class='author'>Dennis K.</div>
<div class='content'>
Look at python 2.5&#8217;s context managers and the with statement. These are a more elegant way of solving this very problem without littering your code with finally: statements.</div>
</div>
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/02/23/ensuring-that-you-test-what-your-users-use/">Ensuring That You Test What Your Users Use</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-02-23T00:00:00-05:00" pubdate data-updated="true">Feb 23<span>rd</span>, 2009</time>
        
         | <a href="/blog/2009/02/23/ensuring-that-you-test-what-your-users-use/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
Recently I&#8217;ve come across two pitfalls when testing one of my python applications. In two different cases the tests will run fine in my checkout, but fail miserably for anyone else (because the application is broken). What was happening?<br /><br />1) I had a new file which is required to run, but I forget to &#8216;vcs add&#8217; it. Because the file existed in my sandbox, everything was well. But no one else was getting this file, so they couldn&#8217;t even run the application. This one is somewhat easy to detect because a &#8216;vcs st&#8217; should show that file as unknown status. In that way ensuring a clean status before running the tests can help avoid this. However this won&#8217;t work well in an automated fashion because there are often unversioned files, and you typically want to run the tests before committing anyway.<br /><br />2) A time or two I thought I had completely removed/renamed a dependency but forgot to clean up an import somewhere along the line. Even though the original .py file was gone, a .pyc file by the old name still existed, which allowed the lingering import to work. Again however, for anyone else getting a fresh checkout or release, this file would not be avaible and the app would be unusable.<br /><br />How can you avoid having problems like this? Well, from a myopic viewpoint you could have your test suite delete any .pyc files before running. Then to address the first issue, you could also test that a &#8216;vcs st&#8217; has no unknown files, and explicitly ignore any unversioned files you expect. But still, other things could creep up. And while having another machine as your &#8220;buildbot&#8221; would avoid the first issue, you are still prone to an attack from the second. To really make sure you are testing with the same stuff that you release, you need to be testing releases. In other words, you need to be putting your version through your shipping process, whatever that is, and then testing the final product.<br /><br />So now that I&#8217;ve realized this is what I should be doing, I&#8217;m not quite sure what the simplest and easiest way to do it in an automated fashion is. For python, perhaps this could be achieved by getting a fresh export/checkout of the code in a temporary directory, adding that directory to sys.path, and importing and running the tests. I am sure this is a common problem; is there a common solution?</div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Andy</div>
<div class='content'>
I had this problem the other day releasing some code at work. <BR/><BR/>The way I do a release is to run my release script, which reads in file lists scattered around the program, copies them to a new place, compiles them and runs all the tests. It then runs a make clean(*) and builds a tar ball. The file lists are used for generating the makefiles, so all the dependencies are explicitly listed.<BR/><BR/>To release, I untar it into another teams subversion repository, add it and commit. <BR/><BR/>It sounded pretty foolproof to me. So, I untarred it, ran &#8220;svn add&#8221;, then tried compiling it, testing it etc and everything worked. I checked &#8220;svn stat&#8221; to make sure I wasn&#8217;t going to commit anything by accident, and it all looked fine.<BR/><BR/>The next day, I had an email telling me that I broke the build :-). <BR/><BR/>It turned out that when I was creating the file list used for building the release, I accidentally included a backup file (&#8220;somefile.c~&#8221;) in the list. The tarball included the file (since the release script copies all the files listed), so when I untarred it into the svn repository, the file was put in there. But if you do an svn add, it will skip over such files. So when I committed, the backup file was missing, which then made the makefile barf, because all the files from the file list are dependencies.<BR/><BR/>I can&#8217;t quite think of a good way to prevent this from happening again. <BR/><BR/>(*) This is one step where things could go wrong - if the clean target doesn&#8217;t delete everything, then the release will include files that should be generated.</div>
</div>
<div class='comment'>
<div class='author'>jmathes</div>
<div class='content'>
by rapid iteration I mean continuous integration</div>
</div>
<div class='comment'>
<div class='author'>jmathes</div>
<div class='content'>
We have the first problem on our website as well; forgetting to check in a .php file.<BR/><BR/>We don&#8217;t have an automated solution, but rapid iteration helps make it a non-issue.  Basically, we haven&#8217;t trained ourselves to ignore unversioned files, because we&#8217;re used to never having any.</div>
</div>
<div class='comment'>
<div class='author'>Chad</div>
<div class='content'>
We delete .pycs and .pyos as a BuildBot step.</div>
</div>
<div class='comment'>
<div class='author'>Andy Friesen</div>
<div class='content'>
I have had great success setting up an acceptance test suite that actually constructs an installer, installs the software, and starts the application.<BR/><BR/>We then test the application by prodding it from outside its process. (eg with Windows messages)</div>
</div>
<div class='comment'>
<div class='author'>James Westby</div>
<div class='content'>
Hey Mike,<BR/><BR/>I&#8217;ve one suggestion that may be appropriate: build a package.<BR/><BR/>If you use &#8220;bzr-builddeb&#8221; then this could be as simple as running &#8220;bzr bd&#8221; every so often, installing the resulting deb, and testing the system version.<BR/><BR/>That would check various things, and would catch exactly the case you describe with not running &#8220;bzr add&#8221;<BR/>on the filename.<BR/><BR/>Thanks,<BR/><BR/>James</div>
</div>
<div class='comment'>
<div class='author'>dsas</div>
<div class='content'>
patch queue manager should do all you require I think.</div>
</div>
<div class='comment'>
<div class='author'>Jose M</div>
<div class='content'>
I think that in the books &#8220;Expert python programming&#8221; and &#8220;Foundations of Agile python development&#8221; cover this topic in depth.</div>
</div>
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/02/21/delicious-cheap-and-easy-whole-wheat-wraps/">Delicious, Cheap, and Easy Whole Wheat Wraps!</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-02-21T00:00:00-05:00" pubdate data-updated="true">Feb 21<span>st</span>, 2009</time>
        
         | <a href="/blog/2009/02/21/delicious-cheap-and-easy-whole-wheat-wraps/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
Some of my <a href="http://egometry.com/bloodpact/">bloodpact blogging friends</a> have written recipes, and I thought I would add one of my favorite and simplest recipes to the mix. Wraps are a great food delivering device, be it for eggs or veggies, meat or rice and beans. It also happens to be easy to make your healthy wraps without any special tools, for roughly 10 cents a piece! Best of all, you can use <span style="font-weight: bold;">as few as two ingredients</span> if you so desire.<br /><br /><div style="text-align: center;"><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://1.bp.blogspot.com/_HU7L5oFDSeA/SaDiT4wH79I/AAAAAAAAADs/-f9XyUWo7L4/s1600-h/wrappers.jpg"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 320px; height: 240px;" src="http://1.bp.blogspot.com/_HU7L5oFDSeA/SaDiT4wH79I/AAAAAAAAADs/-f9XyUWo7L4/s320/wrappers.jpg" alt="" id="BLOGGER_PHOTO_ID_5305489192322068434" border="0" /></a><a href="http://www.theproduct.de/">the product</a> will make you happy.<br /></div><br />Here&#8217;s what you&#8217;ll need.<br /><ul><li>1C whole wheat flour (or white)</li><li>1/4C cold water</li><li>1/4 teaspoon salt (recommended)</li><li>1 tablespoon olive oil (optional)<br /></li><li>1/4 teaspoon baking powder (optional)</li><li>seasonings such as oregano, onion powder, or herbs (optional)</li></ul>Mix all the ingredients together in a bowl, adding extra water 1 tablespoon at a time until it forms a cohesive ball. Knead it for a minute or two and then divide into 2-4 smaller balls, depending on if you want large, medium, or small wraps. If you are patient, put them back in the bowl and cover with a towel for about 10 minutes.<br /><br />Now roll them out. For this I recommend rolling between two non-stick surfaces, such as <a href="http://www.amazon.com/Norpro-Slice-Piece-Flexible-Cutting/dp/B000SSVA9E/ref=pd_bbs_sr_1?ie=UTF8&amp;s=home-garden&amp;qid=1235279004&amp;sr=8-1">flexible cutting mats</a> (a dollar store or grocery store should have 3 packs for $3-5), silicone baking sheets (also can be had for a few bucks), or something similar.  So put a dough ball on a non-stick surface, then optionally put another on top. Now roll it out with a rolling pin if you have one, or a bottle of wine/oil/beer if you don&#8217;t. It is easiest if you flatten it out by hand as much as you can first! It may take a couple tries to get them as flat (and as such wide) as you like, but you will definitely improve. Or you could just get a tortilla press online, though I have yet to give in.<br /><br />Now heat a pan on the stove to medium-high heat. Once it seems up to heat, throw a wrap on the pan (no greasing necessary). After 15-30 seconds you should be able to jiggle the pan and have the wrap freely slide around, and this is useful for ensuring it doesn&#8217;t burn. Give it about 1-2 minutes on that side, until you start to see a bubble or two, then flip it over for another 1-2 minutes. Now sit it on a towel to cool, and repeat for the rest of your future wraps! As they are delicious warm, I like use one right after I make them.<br /><br />I love making these wraps because it is much cheaper than buying them, can be as healthy as I want, and makes eating them much more enjoyable knowing that I hand-crafted each one. Common uses are eggs with veggies in the morning or your typical taco fare. You can also make mini flatbread pizzas, or sandwich some cheese and veggies in between two for an extra tasty treat! Let me know what you think!</div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Anonymous</div>
<div class='content'>
this is absolutely great! (hopefully that is!)</div>
</div>
<div class='comment'>
<div class='author'>Michael</div>
<div class='content'>
Yes, it is similar to Chapathi although not with durum flour.</div>
</div>
<div class='comment'>
<div class='author'>Anonymous</div>
<div class='content'>
http://en.wikipedia.org/wiki/Chapathi</div>
</div>
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/02/20/finding-new-albums-by-your-favorite-bands/">Finding New Albums by Your Favorite Bands</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-02-20T00:00:00-05:00" pubdate data-updated="true">Feb 20<span>th</span>, 2009</time>
        
         | <a href="/blog/2009/02/20/finding-new-albums-by-your-favorite-bands/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
The other week I felt a little disconnected from recent music. I was sure that some of my favorite artists had released new albums that I wasn&#8217;t aware of, but I wasn&#8217;t sure how to be notified of it. I use <a href="http://last.fm/user/midtown">last.fm</a> when listening to music most of the time, and have been for about 5 years, so I already have a long and dynamic list of my favorite artists, many of which I haven&#8217;t been keeping up to date with. There are also many places that offer feeds of recent albums, including a private torrent site, Waffles. As a curious programmer I decided to bridge the gap here and write a little proof of concept script that would grab my top last.fm artists and query Waffles to see what was new.<br /><br />About an hour and 100 lines of python later, I had a working proof-of-concept. Right now it only supports Last.fm as a favorites source, and Waffles as a release source, but expanding it by following the same interface should be fairly straightforward. It is up for anyone to branch at <a href="https://launchpad.net/nutunes">https://launchpad.net/nutunes</a>. For any programmer it should be pretty easy to make a favorite source which reads from a text file and use other services like allmusic.com, amazon, or perhaps even iTunes to get a list of recent releases for a given artist. Feel free to branch and create a merge proposal for integrating with other services. As the code is less than 100 lines, I hope it more or less documents itself. To use it just run nutunes.py and it will prompt for your last.fm username, and Waffles credentials.<br /><br />What other ways are people currently staying on top of music of all the bands you are interested in? Heck, maybe Last.fm already has this option, but I sure didn&#8217;t notice it, and learning and experimenting is fun!</div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>thisfred</div>
<div class='content'>
Cool idea! What I do to stay current, is have an mp3spider[1] crawl a few hundred mp3blogs. This results in a huge bag of mp3 of varying levels of interest to me. The way I wade through them is with a plugin I&#8217;ve made[2] that plays similar[3] songs together (i.e. if I hit a patch of stuff I don&#8217;t like, I can hit delete until something better comes along.) <BR/><BR/>[1] http://code.google.com/p/barbipes/<BR/>[2] http://code.google.com/p/autoqueue/ designed to be cross player, currently works with mpd, rhythmbox, and my favorite, quod libet<BR/>[3] similarity is looked up by track and artist on last.fm, and by acoustic properties. It&#8217;s easy to add new sources of similarity.</div>
</div>
<div class='comment'>
<div class='author'>Ritze</div>
<div class='content'>
Nice Idea!<BR/><BR/>For Information: There is already a service, which look to MusicBrainz for new albums and singles: www.muspy.com</div>
</div>
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/02/20/eye-tracking-and-ui-framework-window-manager-integration/">Eye Tracking and UI Framework / Window Manager Integration</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-02-20T00:00:00-05:00" pubdate data-updated="true">Feb 20<span>th</span>, 2009</time>
        
         | <a href="/blog/2009/02/20/eye-tracking-and-ui-framework-window-manager-integration/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://3.bp.blogspot.com/_HU7L5oFDSeA/SZ72AHp-7bI/AAAAAAAAADc/8kb_y3pD_Ac/s1600-h/Screenshot-1.png"><img style="margin: 0pt 0pt 10px 10px; float: right; cursor: pointer; width: 224px; height: 164px;" src="http://3.bp.blogspot.com/_HU7L5oFDSeA/SZ72AHp-7bI/AAAAAAAAADc/8kb_y3pD_Ac/s320/Screenshot-1.png" alt="" id="BLOGGER_PHOTO_ID_5304947893004594610" border="0" /></a>Eye tracking is the technique of watching the user&#8217;s eyes with a camera and figuring out where on the screen he or she is looking. While some computer users with disabilities use this technology as their primary input device, it hasn&#8217;t become very popular. However I think that with webcams being integrated into the majority of new laptops, and multi-core processors with some cycles to spare for image processing becoming ubiquitous, eye tracking deserves to become more popular.<br /><br />I don&#8217;t believe the technology is accurate enough (yet) to replace your mouse, but it could still improve usability in a few ways. Imagine having the equivalent of onMouseIn and onMouseOut events on widgets when writing a user interface, but for where the user is looking instead. Applications could leverage onLookIn and onLookOut events at the widget level and open a whole new realm of functionality and usability. Videos and games could pause themselves when you look away, or bring up certain on-screen displays when you look at certain corners of the screen. If an application sees you are studying a certain element for a period of time, it may ask if you need help.<br /><br />It would also be interesting to see eye tracking leveraged on the window manager level. Most people use focus follows click to focus windows, and some enjoy focus follows mouse, but imagine focus follows (eye) focus! Using multiple monitors would become much easier if your keyboard input was automatically directed to the application, or even specific field, which you were looking at. Eye gestures, like mouse gestures, could be potentially useful as well, such as glancing off-screen to move to the virtual desktop in that direction.<br /><br />Apple and Linux both seem to be in a good position to implement something like this. Apple has control of both the hardware and the software including the OS, and has been integrating cameras in laptops for a while. As a result they are in a great position to pioneer this field and really have something unique to bring to the table in terms of a completely new user experience. However in the open-source world, Linux is also in a decent spot to do this as the UI frameworks and window managers are all patchable and most webcams are supported out of the box.<br /><br />Eye tracking has the potential to enable us to use computers in ways that were previously impossible. What are your thoughts on eye tracking? Does it have a future in the computing world and where can it take us? And how long will it be before we will take this technology for granted? :)</div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Andy</div>
<div class='content'>
Yeah, I had the exact same experience. At work I have a dual monitor setup, and running a virtual machine in one of them all the time. Because of this, sometimes you will have windows looking focused on both screens.<BR/><BR/>Focus follows eyes would be nice there, even if it was just window focus (as opposed to the specific control inside a window)</div>
</div>
<div class='comment'>
<div class='author'>egometry</div>
<div class='content'>
I remember trying to figure out a good way to do this back in 2002 when I was dealing with my first dualmon setup and I kept having that whole &#8220;I look at a different monitor and I start typing into the window I&#8217;m looking at but it doesn&#8217;t have focus&#8221; problem.<BR/><BR/>At the time all I could think about was doing it via IR emitters on the arms of my glasses and a receptor grid to figure out which monitor was being looked at.  <BR/><BR/>&#8230;But then I learned all of the defensive responses to using multimon and the desire disappeared.  I really haven&#8217;t thought of this in a while, but I remember getting excited by the prospect of a mouse-free GUI world :(</div>
</div>
<div class='comment'>
<div class='author'>mario.vukelic@dantian.org</div>
<div class='content'>
On first glance the focus-follows-eyes sounds intriguing, but I&#8217;m afraid I might not always look at what I am typing. I might look at a physical sheet off the computer screen, or I might watch/read one window and type my thoughts in the other.<BR/><BR/>I am not 100% sure that I really do all of this, but it would be worth investigating before spending time on any implementation. <BR/><BR/>I think you need at least something like this: http://www.techsmith.com/morae.asp<BR/><BR/>I use Camtasia at the office (same company) and don&#8217;t know if Morae already does all you need, but you will need smething that can track eye focus on a widget level and correlate it to screen actions, otherwise you will go mad trying to align eyes in the face cam to the screen capture.</div>
</div>
<div class='comment'>
<div class='author'>jimcooncat</div>
<div class='content'>
I think this would be good for anonymous webcam. Follow eyes, cheekbones, nose, chin, and replace with scalable graphics. Send along with poser-type information for skin tone, headwear, hair color. <BR/><BR/>It would be fast, give an appearance of web camming, and give the cammer good options on how they present themselves.</div>
</div>
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/02/19/webhooks-and-feeds-as-complementary-technologies-or-how-webhooks-can-enable-a-collective-intelligence/">Webhooks and Feeds as Complementary Technologies -or- How Webhooks Can Enable a Collective Intelligence</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-02-19T00:00:00-05:00" pubdate data-updated="true">Feb 19<span>th</span>, 2009</time>
        
         | <a href="/blog/2009/02/19/webhooks-and-feeds-as-complementary-technologies-or-how-webhooks-can-enable-a-collective-intelligence/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
Yesterday I <a href="http://mrooney.blogspot.com/2009/02/are-feeds-pre-cursor-to-webhooks.html">wrote</a> about my observation that feeds seemed sort of like the precursor to webhooks, but that each had distinct advantages. <a href="http://mrooney.blogspot.com/2009/02/are-feeds-pre-cursor-to-webhooks.html?showComment=1235001360000#c1245389494252546097">Adam left a comment</a> confirming my thoughts on their pros and cons, but then pointed out how they can be used together to get the best of both worlds. I really liked the implications and wanted to expand upon how webhooks could enable the next generation of feed readers, and further, really lead us towards a more collective intelligence.<br /><br />The way things work now is that you have an aggregator, such as Google Reader, which polls all of your feeds every once and a while (although in this specific case surely doing some caching behind the scenes for users with the same feeds). This is suboptimal for two reasons. First, you don&#8217;t get instant updates. Statistically, you will on average receive an update pollFrequency/2 minutes after it is posted. If you want to be able to respond to something in a quicker fashion, this may not cut it. Second is that the polling is causing unnecessary load on the server.<br /><br />Now let&#8217;s try it with just webhooks. You inform all the event producers you are interested in about your aggregator callback, and you get instant updates for all of them, with no wasted polling. However when your aggregator is off, you aren&#8217;t receiving updates! This means you can miss updates, and you have no way to catch up.<br /><br />Combining these two however, we can solve the problems of each technology with the other and pick up none of their downfalls. Use webhooks to tell your event producers about your aggregator as was done previously in the webhooks model. But now, the producer is also supplying a feed. This means that when your aggregator is up it will receive instant updates and doesn&#8217;t need to poll. However when you start it up after having been down, it can use the feed to catch back up; no missed events!<br /><br />I think this new model has the potential to improve aggregators, as well as make them more usable for applications where speed is important. It could also have a much greater impact though. Twitter is a good example of this I think, wherein you could tweet about things you need fast feedback on such as a meal choice at a restaurant, the best way to do something you are working on, or perhaps even more urgent things such as needing a ride. All of these things could and surely are done in the traditional model, but with the push revolution they become more useful as quicker responses are more likely. People will become more likely to produce things requiring (potentially much) faster feedback, and this feeds into itself as people become more likely to respond, knowing that their responses are more relevant because less time has passed. I think it is an evolution that, while initially potentially sounding subtle and unimportant, can help lead is into a more collective intelligence that we couldn&#8217;t imagine living without once we have it.</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/02/17/are-feeds-the-pre-cursor-to-webhooks/">Are Feeds the Pre-cursor to Webhooks?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-02-17T00:00:00-05:00" pubdate data-updated="true">Feb 17<span>th</span>, 2009</time>
        
         | <a href="/blog/2009/02/17/are-feeds-the-pre-cursor-to-webhooks/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
Recently I&#8217;ve been reading <a href="http://timothyfitz.wordpress.com/2009/02/09/what-webhooks-are-and-why-you-should-care/">Timothy</a> and <a href="http://blog.webhooks.org/">Jeff</a> talk about webhooks. Webhooks are essentially an amazingly simple way to be notified about arbitrary events on the web. In this model, any event producer allows you to supply a URL, which it will post to on each future action with the relevant details, whatever they may be. Then the other day when I was using Google Reader, something struck me: it felt a lot like webhooks, but turned on its head.<br /><br />Anything that offers a feed such as RSS or Atom can be plugged into Google Reader; things like blogs and their comments, twitter searches, commits, downloads, bugs, and build results. As I started plugging more and more diverse things into Reader, I realized that it was basically like the &#8220;pull&#8221; equivalent of webhook&#8217;s &#8220;push&#8221; nature. Instead of telling all these event producers where to contact me, I&#8217;m telling Reader where to learn about all the recent events.<br /><br />I may be thinking too shallowly, but in the webhooks world Reader would be the service offering the interface. Then, instead of all these different things offering feeds, you could just plug Reader&#8217;s hook into them and be notified instantly. Currently, for example, when I ask a question on a blog post, I&#8217;ll throw the comments feed for that post into Reader so I don&#8217;t have to keep checking back on the site; Reader will bring the potential answers to me. With webhooks though, I would reverse this and provide the service with the URL of my event consumer.<br /><br />It seems like, as technology and the internet often does, feeds are evolving into what users need them to be. Services are seeing that people want to follow and be kept up to date without having to check back on hundreds of different sites. That&#8217;s way too much time and information, especially when it all looks different. However, by plugging the feeds of all those things into an aggregator, we gain a central notification place for all these events, and it becomes much more managable.<br /><br />So will webhooks replace the current paradigm that I&#8217;m using here, or complement it? They seem to each have their pros and cons. Feeds allow a history, and you won&#8217;t miss an update because your aggregator was down; it will catch it on the next poll. However webhooks are instant and can be more efficient as you don&#8217;t have the need for polling at all, but if the producer loses your hook, you&#8217;re out of the loop.<br /><br />So an overflow of interesting events occurring on the web necessitated a standard way to view them, and we got feeds. Are webhooks the next step of this evolution, or something else entirely?<br /><br />UPDATE: <a href="http://blogger.malept.com/2009/02/on-webhooks-or-push-revolution.html">Mark Lee responds</a>.</div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>neilg</div>
<div class='content'>
Hi Michael<br /><br />I&#8217;ve launched a very simple web service that is similar to some of the tools mentioned in the comments above.  It polls pull-only services, and pushes updates via XML POST to a web endpoint of your choice.<br /><br />At the moment it has adapters for general RSS and for Twitter.<br /><br />http://myqron.com</div>
</div>
<div class='comment'>
<div class='author'>Michael</div>
<div class='content'>
guptaxpn: I&#8217;d recommend reading my next post http://mrooney.blogspot.com/2009/02/webhooks-and-feeds-as-complementary.html which actually details the advantages to the end user. Push vs pull seems like a subtle difference at first glance, but if you really think about the new uses it allows for, it is quite powerful and opens up a new world to &#8220;joe-computer-user&#8221;.</div>
</div>
<div class='comment'>
<div class='author'>guptaxpn</div>
<div class='content'>
So, it&#8217;s push, instead of pull?<BR/><BR/>Again, how does this help average-joe-computer-user?<BR/><BR/>How do feeds even help average-joe-computer-user?<BR/><BR/>How can I help push feed/webhooks(syndication) adoption?</div>
</div>
<div class='comment'>
<div class='author'>Erigami</div>
<div class='content'>
How is this different from <A HREF="http://www.rssping.com/" REL="nofollow">ping</A>, which is supported by most opensource blogging platforms (eg, wordpress)? Google blog search and technorati already support ping consumption, btw. <BR/><BR/>And if you&#8217;re talking about an RSS reader being able to add themselves as ping receivers, how will you handle NAT&#8217;d IP addresses? More importantly, how will you handle a DoS where an attacker gives a vast number of webhook consumer URLs to a blog?</div>
</div>
<div class='comment'>
<div class='author'>Adam Smith</div>
<div class='content'>
Michael,<BR/><BR/>While frustrations with feeds certainly get you thinking down the webhooks line of thought (and they did come before) I wouldn&#8217;t go as far to say one is a precursor of the other.  Imagine that we had invented webhooks first &#8211; when we started wanting to get reliable delivery of sequential data we might have gone and invented feeds After as a reaction to problems with the endpoint for the hook not always being alive.<BR/><BR/>Feeds and webhooks can benefit a lot from each other if you hook them up right.  Hooks get instantaneous updates and feeds get you an ordered, persistent backlog of events.  If you goal is to consume ALL events in a stream, feeds have all of the Content you want already (you just have to do a lot of work to get it in a timely manner).  Moving to hook-only delivery of events leads you to making difficult or arbitrary decisions on matters like &#8220;what does it mean when I don&#8217;t get 200 OK? what does it mean if I can&#8217;t even establish a connection?&#8221;.  If you keep feeds around (and let people request paged feeds that show all events since a given time) you can use hooks to deliver only the feed url and a new last updated time.  This way, even if your client (the hook consumer) is flaky, it can still eat 100.0% of the events in their full detail (which is what you want for a Reader-like app) with minimal polling.  Let hooks be the light-weight hint and don&#8217;t reinvent things like the Atom Publishing Protocol over hook and get stuck with the requirement of an always-available client.</div>
</div>
<div class='comment'>
<div class='author'>Michael</div>
<div class='content'>
guptaxpn: the advantage of hooks is that you don&#8217;t need a middle-man service, which you always do with polling.<BR/><BR/>For example, let&#8217;s say you want to build your product on an svn commit. All you do is throw a &#8220;wget http://buildserver/?build=now&#8221; in your post-commit hook. That&#8217;s it! If your svn server on the other hand publishes a feed (that&#8217;s more work already) you have to have something to constantly poll that and then trigger the build. Not to mention it will be either delayed or very expensive to poll constantly.<BR/><BR/>Basically, it means you don&#8217;t have to implement feed-polling/parsing in your event consumer. If it can already have actions triggered via http, you don&#8217;t have to change it all (especially useful if you don&#8217;t have direct access to it) and you get it for free.</div>
</div>
<div class='comment'>
<div class='author'>guptaxpn</div>
<div class='content'>
What exactly is the &#8220;upgrade&#8221; or &#8220;upside&#8221; of webhooks vs. feeds?<BR/><BR/><BR/>honestly, I understand that imap and push are better than pop and pull<BR/><BR/>but webhooks/feeds just seem too similar to the end-user for me to really understand why I would want to prefer one over the other</div>
</div>
<div class='comment'>
<div class='author'>andrewsomething</div>
<div class='content'>
You might be interested in Specto.<BR/><BR/>http://specto.sourceforge.net/<BR/><BR/>&#8220;Specto is a desktop application that will watch configurable events (such as website updates, emails, file and folder changes, system processes, etc) and then trigger notifications.<BR/><BR/>For example, Specto can watch a website for updates (or a syndication feed, or an image, etc), and notify you when there is activity (otherwise, Specto will just stay out of the way). This changes the way you work, because you can be informed of events instead of having to look out for them. &#8221;</div>
</div>
<div class='comment'>
<div class='author'>John L. Clark</div>
<div class='content'>
Michael,<BR/><BR/>The &#8220;webhooks&#8221; concept that you mention sounds a lot like the work that people are doing with PubSub and XMPP.  Roy Fielding has an interesting article about when it might be architecturally appropriate to use this approach, titled &#8221;<A HREF="http://roy.gbiv.com/untangled/2008/paper-tigers-and-hidden-dragons" REL="nofollow">Paper tigers and hidden dragons</A>&#8221;.  You may find it interesting.</div>
</div>
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/02/16/cracking-on-screen-keyboards-with-visual-keyloggers/">Cracking On-Screen Keyboards With Visual Keyloggers</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-02-16T00:00:00-05:00" pubdate data-updated="true">Feb 16<span>th</span>, 2009</time>
        
         | <a href="/blog/2009/02/16/cracking-on-screen-keyboards-with-visual-keyloggers/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
A few financial sites including HSBC and the US Treasury have recently added an extra measure of security to their site. Instead of simply requiring a username and password, an on-screen keyboard was added, requiring you to &#8220;type&#8221; in a second password with your mouse:<br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://2.bp.blogspot.com/_HU7L5oFDSeA/SZo2HYbsK9I/AAAAAAAAAC8/Y5VClSVqqfs/s1600-h/Screenshot.png"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 297px; height: 154px;" src="http://2.bp.blogspot.com/_HU7L5oFDSeA/SZo2HYbsK9I/AAAAAAAAAC8/Y5VClSVqqfs/s320/Screenshot.png" alt="" id="BLOGGER_PHOTO_ID_5303611011627756498" border="0" /></a><br /><br />The logic behind this is that if a user&#8217;s computer becomes compromised with a keylogger, the attacker could only obtain the username and primary password. The secondary password would remain uncomprised as it doesn&#8217;t involve keypresses. This didn&#8217;t seem too useful to me however, so for my &#8220;Image Understanding&#8221; class I decided to see if it was possible to create a &#8220;visual keylogger&#8221; which could capture this secondary password. It wasn&#8217;t too difficult, and essentially demonstrated that the extra password was more inconvenience than security. Let me outline the basic process.<br /><br />In order to do this, you need to be able to capture the contents of the screen at certain intervals. It seems like a fair assumption that if you (as the attacker of a comprimised system) can capture keyboard input, you can also grab screenshots. The goal is to turn a sequence of these screenshots of someone typing with an on-screen keyboard into a single string output equivalent to the password typed.<br /><br />First we want to record the position of the mouse at each shot. This would normally be a trivial function by asking the OS; however, in my case I was writing this for an Image Understanding class and had to use the sequence of images as my sole input. As such, I used a basic templating approach to locate the mouse by a few of its key features. This was surprisingly robust; however, asking the OS for the mouse position is an easier, even more robust, and more likely attack vector in real life.<br /><br />Now we need to figure out when the user clicked a key. Any keyboard used for a password purpose is going to give some form of feedback when a key is clicked, such as an asterisk in a password field, so the user knows if they have successfully clicked a key. The easiest way then to notice this is to subtract the color values of each screenshot from the previous one, giving you a new image with non-zero pixel values for each changed pixel. Among other things like cursor movement and web animations, the aforementioned asterisk feedback is going to be present in this image.<br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://3.bp.blogspot.com/_HU7L5oFDSeA/SZo2O3LD-RI/AAAAAAAAADM/iIx9fly3O6w/s1600-h/Screenshot-1a.png"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 165px; height: 138px;" src="http://3.bp.blogspot.com/_HU7L5oFDSeA/SZo2O3LD-RI/AAAAAAAAADM/iIx9fly3O6w/s320/Screenshot-1a.png" alt="" id="BLOGGER_PHOTO_ID_5303611140138596626" border="0" /></a><br /><br />For each new image then, subtract and look for this feedback. If it&#8217;s there, that&#8217;s a key press! Combine this with the position of the mouse and you know where the user clicked. Now it gets slightly tricky. You know where they clicked, but if you grab that section of the screen, you&#8217;ll get something like this:<br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://2.bp.blogspot.com/_HU7L5oFDSeA/SZo2K5-O39I/AAAAAAAAADE/Z3P8sHR0-x8/s1600-h/Screenshot-1.png"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 301px; height: 259px;" src="http://2.bp.blogspot.com/_HU7L5oFDSeA/SZo2K5-O39I/AAAAAAAAADE/Z3P8sHR0-x8/s320/Screenshot-1.png" alt="" id="BLOGGER_PHOTO_ID_5303611072170614738" border="0" /></a><br /><br />because the mouse had to be over the key to click it. This is rather easily worked around, however, by going backwards in your mouse position cache until it is a certain threshold away from the clicked position, and grabbing the key image at that point.<br /><br />After the user enters the complete password, you are going to be left with an array of keyboard images. For any human, this is quite sufficient. For my class however, it was not, and it would not be for any large-scale operation where automation is desired. What we need to do is clean it up by throwing away any pixels under a certain darkness threshold, then cropping the result:<br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://1.bp.blogspot.com/_HU7L5oFDSeA/SZo2UM8kjkI/AAAAAAAAADU/j3g9zlXjjDk/s1600-h/Screenshot-2.png"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 300px; height: 277px;" src="http://1.bp.blogspot.com/_HU7L5oFDSeA/SZo2UM8kjkI/AAAAAAAAADU/j3g9zlXjjDk/s320/Screenshot-2.png" alt="" id="BLOGGER_PHOTO_ID_5303611231882743362" border="0" /></a><br /><br />Ta-da! Now we have something that any OCR (optical character recognition) algorithm should be able to chomp through in its sleep cycles. If you are writing for a specific keyboard, you can also just have an array of what each key looks like in binary form and compare to get the answer.<br /><br />And there you have it! With the combination of a few basic computer vision techniques, we can expand a keylogger to understand input from visual keyboards and render this security annoyance useless. A fun note is that the order/position of the keys is irrelevant. The US treasury website uses an on-screen keyboard as well, but shuffles the keys each attempt. As is hopefully obvious from this algorithm, there is no assumption of a keyboard layout; the keys could shuffle every single click and it wouldn&#8217;t matter.</div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Michael</div>
<div class='content'>
Anonymous: I am not quite sure how that relates to on-screen keyboards, could you clarify? I have never used an on-screen keyboard to log in to a linux box.</div>
</div>
<div class='comment'>
<div class='author'>Anonymous</div>
<div class='content'>
And if the visual &#8220;text box&#8221; doesn&#8217;t actually change at all?<BR/><BR/>(Ex., when logging into Linux, the password: cursor never moves, so you can&#8217;t deduce A) when keys are pressed by vision and B) how long the password is).</div>
</div>
<div class='comment'>
<div class='author'>Michael</div>
<div class='content'>
ktzar: thanks for your comments but I am not sure how closely you read the post as both of those issues are addressed :) If the letter disappears when you hover or click, that wouldn&#8217;t matter as it goes back in time to find the letter since your cursor obscures it anyway. Scrambling on each click is also mentioned as something this algorithm wouldn&#8217;t care about!</div>
</div>
<div class='comment'>
<div class='author'>ktzar</div>
<div class='content'>
Why if the simbol within the button dissapears just when you click on it? Or the simbols get scrabled after each click? Those are implementations I&#8217;ve seen ;)</div>
</div>
<div class='comment'>
<div class='author'>Xav</div>
<div class='content'>
A while ago I wrote about a possible approach that would make such attacks harder:<BR/><BR/><A HREF="http://www.peppertop.com/blog/?p=82" REL="nofollow">http://www.peppertop.com/blog/?p=82</A><BR/><BR/>By having each key carry more than one type of data, capturing a single &#8220;password&#8221; would actually only get you one possible password in a larger family of possibilities. <BR/><BR/>It wouldn&#8217;t stand up to repeated captures, but if this technique was also used for the username and/or primary password fields (by also showing a coloured on-screen keyboard), it would take more effort to crack all the parts required. Not supercomputer effort, but perhaps enough to send the attacker off to softer targets.</div>
</div>
<div class='comment'>
<div class='author'>Anonymous</div>
<div class='content'>
Thanks for sharing! Because they can create money &#8216;out of thin air&#8217; it is not a problem i can borrow a little more money of them :-)<BR/>(http://jessescrossroadscafe.blogspot.com/ for more info)</div>
</div>
</div>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/4/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/2/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/01/14/blog-migrated/">Blog Migrated</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/12/13/5-things-i-didnt-know-about-sustainability-in-nyc/">5 Things I Didn&#8217;t Know About Sustainability in NYC</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/12/01/tax-deductions-for-the-self-employed/">Tax Deductions for the Self-Employed</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/11/24/chocolate-series-my-favorite-commercial-bars/">Chocolate Series: My Favorite Commercial Bars</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/07/01/freelancing-a-6-month-retrospective/">Freelancing: A 6-Month Retrospective</a>
      </li>
    
  </ul>
</section>






  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Mike Rooney -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'mrooney-blog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
